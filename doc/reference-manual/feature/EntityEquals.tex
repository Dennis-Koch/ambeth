\section{Entity Equality}
\label{feature:EntityEquals}
To use this feature annotate your entities with \type{@EntityEqualsAspect} (Java) or \type{[EntityEqualsAspect]} (C\#). As a result you get the following functionality at runtime:

\begin{itemize}
	\item equals() \& hashCode() consider exactly the primary id \& the entity type.
	\item if the id is null (for newly created unpersisted objects) the equality is only for the object itself (object-identity)
	\item toString() will print out the ``plain'' (not-enhanced) entity type together with the primary id
\end{itemize}

\mixinTip{de/osthus/ambeth/mixin/EntityEqualsMixin}{EntityEqualsMixin}

In addition to the applied behavior above the entity implements the \type{IEntityEquals}-interface at runtime:
\inputjava{Runtime enhancement for entities - \type{IEntityEquals}}
{jambeth-cache/src/main/java/de/osthus/ambeth/proxy/IEntityEquals.java}

\inputcsharp{Runtime enhancement for entities - \type{IEntityEquals}}
{Ambeth.Cache/ambeth/proxy/IEntityEquals.cs}